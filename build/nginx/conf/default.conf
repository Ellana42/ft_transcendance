server {
		listen	80;
		listen	[::]:80;

		# Backend
		location /backend {
			return 302 /backend/;
		}

		location /backend/ {
			proxy_set_header    host $host;
			proxy_pass          http://backend:3001/;
		}

		location /backend/socket.io {
			proxy_set_header    Upgrade     $http_upgrade;
			proxy_set_header	Connection	'upgrade';
			proxy_set_header	Host		$host;
			proxy_cache_bypass	$http_upgrade;
			proxy_pass			http://backend:3001/socket.io;
		}

		# Frontend
		location / {
			proxy_set_header	host $host;
			proxy_pass			http://frontend:3000;
		}

		location /frontend/socket.io {
			proxy_http_version	1.1;
			proxy_set_header	Upgrade		$http_upgrade;
			proxy_set_header	Connection	'upgrade';
			proxy_set_header	Host		$host;
			proxy_cache_bypass	$http_upgrade;
			proxy_pass			http://frontend:3000/socket.io;
		}
	}
